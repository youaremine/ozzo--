(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38cdb668"],{"1e65":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"article-manager"},[a("div",{staticClass:"ivu-mt"},[a("el-form",{ref:"formItem",attrs:{model:e.formItem,"label-width":e.labelWidth,"label-position":e.labelPosition,rules:e.ruleValidate},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"提貨點名稱：",prop:"mer_take_name"}},[a("el-input",{attrs:{placeholder:"請輸入提貨點名稱"},model:{value:e.formItem.mer_take_name,callback:function(t){e.$set(e.formItem,"mer_take_name",t)},expression:"formItem.mer_take_name"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"提貨點手機號：",prop:"mer_take_phone"}},[a("el-input",{attrs:{type:"number",placeholder:"請輸入提貨點手機號"},model:{value:e.formItem.mer_take_phone,callback:function(t){e.$set(e.formItem,"mer_take_phone",t)},expression:"formItem.mer_take_phone"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"詳細地址：",prop:"mer_take_address"}},[a("el-input",{attrs:{placeholder:"請輸入詳細地址"},model:{value:e.formItem.mer_take_address,callback:function(t){e.$set(e.formItem,"mer_take_address",t)},expression:"formItem.mer_take_address"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"提貨點營業時間：",prop:"mer_take_day"}},[a("el-select",{staticClass:"selWidth",attrs:{filterable:"",multiple:"",placeholder:"請選擇營業時間"},model:{value:e.formItem.mer_take_day,callback:function(t){e.$set(e.formItem,"mer_take_day",t)},expression:"formItem.mer_take_day"}},e._l(e.date,(function(e){return a("el-option",{key:e.date_id,attrs:{label:e.date_name,value:e.date_id}})})),1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"提貨點營業時間：",prop:"mer_take_time"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"開始時間","end-placeholder":"結束時間",placeholder:"選擇時間範圍","value-format":"HH:mm"},on:{change:e.onchangeTime},model:{value:e.formItem.mer_take_time,callback:function(t){e.$set(e.formItem,"mer_take_time",t)},expression:"formItem.mer_take_time"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-form-item",{attrs:{label:"經緯度：",prop:"mer_take_location"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{"enter-button":"查找位置",placeholder:"請查找位置",readonly:""},model:{value:e.formItem.mer_take_location,callback:function(t){e.$set(e.formItem,"mer_take_location",t)},expression:"formItem.mer_take_location"}},[a("el-button",{staticStyle:{background:"#46a6ff",color:"#fff","border-radius":"0 4px 4px 0"},attrs:{slot:"append"},on:{click:e.onSearch},slot:"append"},[e._v("查找位置")])],1),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[e._v("請點擊查找位置選擇位置")])],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"是否開啟門店自提："}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"開啟","inactive-text":"關閉"},model:{value:e.formItem.mer_take_status,callback:function(t){e.$set(e.formItem,"mer_take_status",t)},expression:"formItem.mer_take_status"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",e._b({},"el-col",e.grid,!1),[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),e.modalMap?a("el-dialog",{staticClass:"mapBox",attrs:{visible:e.modalMap,title:"選擇位置","close-on-click-modal":"","custom-class":"dialog-scustom"},on:{"update:visible":function(t){e.modalMap=t}},model:{value:e.modalMap,callback:function(t){e.modalMap=t},expression:"modalMap"}},[a("iframe",{attrs:{id:"mapPage",width:"100%",height:"500px",frameborder:"0",src:e.keyUrl}})]):e._e()],1)])],1)},n=[],o=(a("96cf"),a("1da1")),m=(a("28a5"),a("7f7f"),a("90e7")),l={name:"systemStore",components:{},props:{},data:function(){var e=function(e,t,a){if(!t)return a(new Error("請填寫手機號"));/^1[3456789]\d{9}$/.test(t)?a():a(new Error("手機號格式不正確!"))};return{modalMap:!1,labelPosition:"right",labelWidth:"130px",key:"",date:[{date_name:"週一",date_id:1},{date_name:"週二",date_id:2},{date_name:"週三",date_id:3},{date_name:"週四",date_id:4},{date_name:"週五",date_id:5},{date_name:"週六",date_id:6},{date_name:"週日",date_id:7}],formItem:{mer_take_name:"",mer_take_phone:"",mer_take_address:"",mer_take_time:["",""],mer_take_day:[],mer_take_location:"",id:0,mer_take_status:0},ruleValidate:{mer_take_name:[{required:!0,message:"請輸入提貨點名稱",trigger:"blur"}],mer_take_day:[{required:!0,type:"array",message:"請選擇提貨點營業日期",trigger:"change"}],mer_take_time:[{required:!0,message:"請選擇提貨點營業時間",trigger:"change"}],mer_take_phone:[{required:!0,validator:e,trigger:"blur"}],mer_take_address:[{required:!0,message:"請輸入詳細地址",trigger:"blur"}],mer_take_location:[{required:!0,message:"請選擇經緯度",trigger:"blur"}]},keyUrl:"",grid:{xl:20,lg:20,md:20,sm:24,xs:24},gridPic:{xl:6,lg:8,md:12,sm:12,xs:12}}},created:function(){},mounted:function(){window.addEventListener("message",(function(e){var t=e.data;t&&"locationPicker"===t.module&&window.parent.selectAdderss(t)}),!1),window.selectAdderss=this.selectAdderss,this.getInfo()},methods:{onchangeTime:function(e){this.formItem.mer_take_time=e},selectAdderss:function(e){this.formItem.mer_take_location=e.latlng.lat+","+e.latlng.lng,this.modalMap=!1},getInfo:function(){var e=this,t=this;Object(m["m"])().then((function(a){e.key=a.data.tx_map_key;var r=a.data.tx_map_key;e.keyUrl="https://apis.map.qq.com/tools/locpicker?type=1&key=".concat(r,"&referer=myapp");var n=a.data||null;t.formItem.mer_take_time=n.mer_take_time||["",""],t.formItem.mer_take_day=n.mer_take_day||[],t.formItem.mer_take_phone=n.mer_take_phone,t.formItem.mer_take_name=n.mer_take_name,t.formItem.mer_take_address=n.mer_take_address,t.formItem.mer_take_location=n.mer_take_location&&n.mer_take_location.length?n.mer_take_location[0]+","+n.mer_take_location[1]:"",t.formItem.mer_take_status=n.mer_take_status||0})).catch((function(e){t.spinShow=!1,t.$message.error(e.message)}))},onSearch:function(){this.key&&""!=this.key?this.modalMap=!0:this.$message.error("請先到店鋪設置裡填寫key值！")},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.formItem.mer_take_location?[t.formItem.mer_take_location.split(",")[0],t.formItem.mer_take_location.split(",")[1]]:[],r=Object.assign({},t.formItem);r.mer_take_location=a,Object(m["n"])(r).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success(a.message),t.getInfo();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.message)}))}))}}},s=l,i=(a("e61d"),a("2877")),c=Object(i["a"])(s,r,n,!1,null,"3827fa70",null);t["default"]=c.exports},"90e7":function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"i",(function(){return o})),a.d(t,"l",(function(){return m})),a.d(t,"j",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return _})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return p})),a.d(t,"m",(function(){return k})),a.d(t,"n",(function(){return g}));var r=a("0c6d");function n(e){return r["a"].get("system/role/lst",e)}function o(){return r["a"].get("system/role/create/form")}function m(e){return r["a"].get("system/role/update/form/".concat(e))}function l(e){return r["a"].delete("system/role/delete/".concat(e))}function s(e,t){return r["a"].post("system/role/status/".concat(e),{status:t})}function i(e){return r["a"].get("system/admin/lst",e)}function c(){return r["a"].get("/system/admin/create/form")}function d(e){return r["a"].get("system/admin/update/form/".concat(e))}function u(e){return r["a"].delete("system/admin/delete/".concat(e))}function _(e,t){return r["a"].post("system/admin/status/".concat(e),{status:t})}function f(e){return r["a"].get("system/admin/password/form/".concat(e))}function p(e){return r["a"].get("system/admin/log",e)}function k(){return r["a"].get("take/info")}function g(e){return r["a"].post("take/update",e)}},d895:function(e,t,a){},e61d:function(e,t,a){"use strict";a("d895")}}]);